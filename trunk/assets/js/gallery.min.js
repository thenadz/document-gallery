(function(c){function g(){e=[];f=0;c(".document-icon[data-id]").each(function(){var a=c(this).data("id");-1===c.inArray(a,e)&&e.push(a)});h()}function k(a,d){c.post(ajaxurl,{action:"dg_generate_gallery",atts:a},function(a){d.replaceWith(a);g()})}function h(){for(var a=[];f<e.length&&2!==a.length;f++)a.push(e[f]);0!=a.length&&c.post(ajaxurl,{action:"dg_generate_icons",ids:a},l)}function l(a){for(var d in a)if(a.hasOwnProperty(d)){var b=c('.document-icon[data-id="'+d+'"] img');b.removeAttr("data-id");
(function(b,d){d.fadeOut("fast",function(){c(this).attr("src",a[b]);c(this).fadeIn("fast")})})(d,b)}h()}var e,f;c(document).ready(function(){g();c("body").delegate(".dg-paginate-wrapper .paginate","click",function(a){var d=c(this).closest(".dg-paginate-wrapper"),b=d.children("div[data-shortcode]").data("shortcode");b.hasOwnProperty("skip")||(b.skip=0);c(this).hasClass("left")?b.skip-=b.limit:b.skip+=b.limit;k(b,d);a.preventDefault()})})})(jQuery);
