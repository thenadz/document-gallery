(function(d){function g(){e=[];f=0;d(".document-icon[data-id]").each(function(){var a=d(this).data("id");-1===d.inArray(a,e)&&e.push(a)});l()}function m(a,c){d.post(ajaxurl,{action:"dg_generate_gallery",atts:a},function(a){c.replaceWith(a);g()})}function l(){for(var a=[];f<e.length&&2!==a.length;f++)a.push(e[f]);0!=a.length&&d.post(ajaxurl,{action:"dg_generate_icons",ids:a},n)}function n(a){for(var c in a)if(a.hasOwnProperty(c)){var b=d('.document-icon[data-id="'+c+'"] img');b.removeAttr("data-id");
(function(b,c){c.fadeOut("fast",function(){d(this).attr("src",a[b]);d(this).fadeIn("fast")})})(c,b)}l()}var e,f,h,k;d(document).ready(function(){g();d("body").delegate(".dg-paginate-wrapper a.paginate","click",function(a){var c=d(this).closest(".dg-paginate-wrapper"),b=c.children("div[data-shortcode]").data("shortcode"),e;b.hasOwnProperty("skip")||(b.skip=0);d(this).hasClass("left")?(b.skip-=b.limit,k=c,e=h,h=null):(b.skip+=b.limit,h=c,e=k,k=null);e?(c.replaceWith(e),g()):m(b,c);a.preventDefault()})})})(jQuery);
